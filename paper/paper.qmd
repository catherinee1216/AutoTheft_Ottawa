---
title: "Wheels of Misfortune: Exploring Auto Theft Trends in Ottawa"
author: 
  - Catherine Punnoose
thanks: "Code and data are available at: https://github.com/catherinee1216/AutoTheft_Ottawa.git."
date: today
date-format: long
abstract: "The surge in auto theft rates across Canada has prompted car owners to become more vigilant regarding their vehicle's security. This paper gives a thorough examination of auto theft occurrences within Canada's capital, Ottawa. Focusing on the years 2018-2022, the paper provides a deep dive into the types of vehicles brands, model, and color targeted and offers insights into the neighborhoods within Ottawa exhibiting elevated rates of auto theft. Additionally, the study assesses factors such as the recovery rate of stolen cars, and provides solutions to improve vehicle security by understanding auto theft dynamics in the region."
format: pdf
number-sections: true
toc: true
bibliography: references.bib
---

```{r}
#| include: false
#| warning: false
#| message: false

library(tidyverse)
library(janitor)
library(kableExtra)
library(maps)
library(ggmap)
library(arrow)

auto_Data <- read_parquet(here::here("data/analysis_data/analysis_data.parquet"))
```


# Introduction

In recent years, there is a significant increase of auto theft rates across various cities in Canada. The countryâ€™s capital, Ottawa has reported 221 stolen vehicles cases since January 1, 2024 [@citeCTV]. This escalating trend in auto theft poses a considerable risk to public safety. Although Ottawa police have made efforts to mitigate such reports as well as educate the public, the number of reported cases continues to rise steadily, specifically from the years 2018-2023. However, questions regarding potential patterns in the types of cars targeted and the proportion of vehicles successfully recovered following theft have increased.

[TO BE EDITED]

This paper aims to identify the gravity of auto theft as a pressing concern, particularly in Canada, in the @Introduction. Subsequently, the @Data section focuses on the methodology for data collection and data cleaning. The @Results section delves into a comprehensive analysis of auto theft patterns in Ottawa from the years 2018-2022. Finally, in the @Discussion section, the paper explores potential drivers behind the escalation in auto theft rates, strategies for enhancing vehicle security, and prospective trends in auto theft.



# Data {#sec-data}

The data was cleaned by using the open source statistical programming language R [@citeR]...[TO UPDATE]


# Results

```{r}
#| label: averageTheftYear
#| fig-cap: "Average Auto Theft Crime Reported in ottawa from 2018-2023"
#| echo: false
#| warning: false
#| message: false

auto_Data |>
  ggplot(aes(x = theft_year)) + 
  labs(x = "Year", y = "Count") + theme_minimal() +
  geom_histogram(stat = "count")

```
```{r}
#| label: theft-brands
#| fig-cap: "Number of Cars Stolen by Car Brand in 2018"
#| fig-subcap: ["Illnesses","Visits to the doctor"]
#| layout-ncol: 3
#| echo: false
#| warning: false
#| message: false

# Filter for Number of Cars Stolen by Brand in 2018 
brand_theft_2018 <- auto_Data |>
  filter(theft_year == "2018") 

# filter for Top 10 Brands 
brand_theft_2018_table <- brand_theft_2018 |>
                          count(vehicle_make)

brands2018_top10 <- brand_theft_2018_table |>
  filter(n > 26, n != 95) |> 
  mutate(vehicle_make = recode(vehicle_make,
                             "CHEV" = "Chevrolet",
                             "DODG" = "Dodge",
                             "FORD" = "Ford",
                             "GMC" = "GMC",
                             "HOND" = "Honda",
                             "HYUN" = "Hyundai",
                             "LEXS" = "Lexus",
                             "MAZD" = "Mazda",
                             "NISS" = "Nissan",
                             "TOYT" = "Toyota"
                             ))
brands2018_top10 |>
  ggplot(aes(x = vehicle_make, y = n, fill = n)) +  # Use n as the fill aesthetic
  geom_bar(stat = "identity") +
  theme_minimal() + theme(legend.position = "bottom") + 
  labs(x = "Vehicle Brand", y = "Count", fill = "Count", title = "Top 10 Brands with Most Auto Thefts in 2018") 


# Filter for Number of Cars Stolen by Brand in 2019 
brand_theft_2019 <- auto_Data |>
  filter(theft_year == "2019") 

# filter for Top 10 Brands 
brandtheft2019_top10 <- brand_theft_2019 |>
                          count(vehicle_make) |>
                          filter(n > 25, n != 118) |> 
                          mutate(vehicle_make = recode(vehicle_make,
                                                        "CHEV" = "Chevrolet",
                                                        "DODG" = "Dodge",
                                                        "FORD" = "Ford",
                                                        "GMC" = "GMC",
                                                        "HOND" = "Honda",
                                                        "HYUN" = "Hyundai",
                                                        "LEXS" = "Lexus",
                                                        "MAZD" = "Mazda",
                                                        "NISS" = "Nissan",
                                                        "TOYT" = "Toyota"
                                                     ))
brandtheft2019_top10 |>
  ggplot(aes(x = vehicle_make, y = n, fill = n)) +  # Use n as the fill aesthetic
  geom_bar(stat = "identity") +
  theme_minimal() + theme(legend.position = "bottom") + 
  labs(x = "Vehicle Brand", y = "Count", fill = "Count", title = "Top 10 Brands with Most Auto Thefts in 2019") 



# Filter for Number of Cars Stolen by Brand in 2020
brand_theft_2020 <- auto_Data |>
  filter(theft_year == "2020") 

# filter for Top 10 Brands 
brandtheft2020_top10 <- brand_theft_2020 |>
                          count(vehicle_make) |>
                          filter(n > 21, n != 95) |> 
                          mutate(vehicle_make = recode(vehicle_make,
                                                        "CHEV" = "Chevrolet",
                                                        "DODG" = "Dodge",
                                                        "FORD" = "Ford",
                                                        "GMC" = "GMC",
                                                        "HOND" = "Honda",
                                                        "HYUN" = "Hyundai",
                                                        "LEXS" = "Lexus",
                                                        "MERZ" = "Mercedes-Benz ",
                                                        "MAZD" = "Mazda",
                                                        "NISS" = "Nissan",
                                                        "TOYT" = "Toyota"
                                                     ))
brandtheft2020_top10 |>
  ggplot(aes(x = vehicle_make, y = n, fill = n)) +  # Use n as the fill aesthetic
  geom_bar(stat = "identity") +
  theme_minimal() + theme(legend.position = "bottom") + 
  labs(x = "Vehicle Brand", y = "Count", fill = "Count", title = "Top 10 Brands with Most Auto Thefts in 2020") 



# Filter for Number of Cars Stolen by Brand in 2021 
brand_theft_2021 <- auto_Data |>
  filter(theft_year == "2021") 

# filter for Top 10 Brands 
brandtheft2021_top10 <- brand_theft_2021 |>
                          count(vehicle_make) |>
                          filter(n > 21, n != 115) |> 
                          mutate(vehicle_make = recode(vehicle_make,
                                                        "CHEV" = "Chevrolet",
                                                        "DODG" = "Dodge",
                                                        "FORD" = "Ford",
                                                        "GMC" = "GMC",
                                                        "HOND" = "Honda",
                                                        "HYUN" = "Hyundai",
                                                        "LEXS" = "Lexus",
                                                        "MERZ" = "Mercedes-Benz ",
                                                        "MAZD" = "Mazda",
                                                        "NISS" = "Nissan",
                                                        "TOYT" = "Toyota"
                                                     ))
brandtheft2021_top10 |>
  ggplot(aes(x = vehicle_make, y = n, fill = n)) +  # Use n as the fill aesthetic
  geom_bar(stat = "identity") +
  theme_minimal() + theme(legend.position = "bottom") + 
  labs(x = "Vehicle Brand", y = "Count", fill = "Count", title = "Top 10 Brands with Most Auto Thefts in 2021") 


# Filter for Number of Cars Stolen by Brand in 2022
brand_theft_2022 <- auto_Data |>
  filter(theft_year == "2022") 

# filter for Top 10 Brands 
brandtheft2022_top10 <- brand_theft_2022 |>
                          count(vehicle_make) |>
                          filter(n > 34, n != 124) |> 
                          mutate(vehicle_make = recode(vehicle_make,
                                                        "CHEV" = "Chevrolet",
                                                        "DODG" = "Dodge",
                                                        "FORD" = "Ford",
                                                        "GMC" = "GMC",
                                                        "HOND" = "Honda",
                                                        "HYUN" = "Hyundai",
                                                        "LEXS" = "Lexus",
                                                        "MERZ" = "Mercedes-Benz ",
                                                        "MAZD" = "Mazda",
                                                        "NISS" = "Nissan",
                                                        "TOYT" = "Toyota"
                                                     ))
brandtheft2022_top10 |>
  ggplot(aes(x = vehicle_make, y = n, fill = n)) +  # Use n as the fill aesthetic
  geom_bar(stat = "identity") +
  theme_minimal() + theme(legend.position = "bottom") + 
  labs(x = "Vehicle Brand", y = "Count", fill = "Count", title = "Top 10 Brands with Most Auto Thefts in 2022") 

# Filter for Number of Cars Stolen by Brand in 2023 
brand_theft_2023 <- auto_Data |>
  filter(theft_year == "2023") 

# filter for Top 10 Brands 
brandtheft2023_top10 <- brand_theft_2023 |>
                          count(vehicle_make) |>
                          filter(n > 16, n != 36) |> 
                          mutate(vehicle_make = recode(vehicle_make,
                                                       "ACUR" = "Acura",
                                                        "CHEV" = "Chevrolet",
                                                        "DODG" = "Dodge",
                                                        "FORD" = "Ford",
                                                        "GMC" = "GMC",
                                                        "HOND" = "Honda",
                                                        "HYUN" = "Hyundai",
                                                        "LEXS" = "Lexus",
                                                        "MERZ" = "Mercedes-Benz ",
                                                        "MAZD" = "Mazda",
                                                        "NISS" = "Nissan",
                                                        "TOYT" = "Toyota"
                                                     ))
brandtheft2023_top10 |>
  ggplot(aes(x = vehicle_make, y = n, fill = n)) +  # Use n as the fill aesthetic
  geom_bar(stat = "identity") +
  theme_minimal() + theme(legend.position = "bottom") + 
  labs(x = "Vehicle Brand", y = "Count", fill = "Count", title = "Top 10 Brands with Most Auto Thefts in 2023") 



```

```{r}
#| label: theft-recovery
#| fig-cap: "Recovery Rates from 2018 - 2023"
#| echo: false
#| warning: false
#| message: false

theft_recovery <- auto_Data |>
  select(theft_year, recovered)


theft_recovery |>
  ggplot(mapping = aes(x = theft_year, fill = recovered)) +
  geom_bar(position = "dodge2") +
  labs(x = "Age group", y = "Number of observations", fill = "Vote") +
  theme(legend.position = "bottom")
```
```{r}
#| label: theft-neighborhoods
#| fig-cap: "Recovery Rates from 2018 - 2023"
#| echo: false
#| warning: false
#| message: false

theft_recovery <- auto_Data |>
  select(neighbourhood) |> 
  count(neighbourhood) |> 
  filter(n > 180)


theft_recovery |>
  ggplot(aes(x = neighbourhood, y = n, fill = n)) +  # Use n as the fill aesthetic
  geom_bar(stat = "identity") +
  theme_minimal() + theme(legend.position = "bottom") + 
  labs(x = "Vehicle Brand", y = "Count", fill = "Count", title = "Top 10 Brands with Most Auto Thefts in 2022") 
```



# Discussion

## Possible Reasons for Increasing Auto Theft Rates

## Methods to Increase Vehicle Security 

## Auto Theft Rates Projection 

## Weaknesses and next steps


\newpage

\appendix

# Appendix {-}


# Additional data details



\newpage


# References


